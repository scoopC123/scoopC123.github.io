  <!doctype html>

  <!--
  file: collegeDebt.html
  author: Cooper Lenzi
  description: jquery exercise to demonstrate
  college loans	

  Portions of code borrowed from
  George Corser on CodePen
  https://codepen.io/gpcorser/pen/pogEQJw
  Regie09 on GitHub
  https://github.com/Regie09/regie092/blob/master/assignment06.html
  -->
	
<html lang="en">

	<head>

		<title>College Debt Estimator</title>

		<!-- bootstrap 4 -->
		<link rel="stylesheet" 
			href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" 
			integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" 
			crossorigin="anonymous" />

		<!-- custom css -->
		<style>
			td, th, td input {text-align: right;}
      #loan_table {background-color: pink;}
		</style>
	<script src=https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.2/angular.min.js></script>
	</head>

	<body onload="loadDoc();">

		<div class="container">

			<div ng-app="myApp" ng-controller="myCtrl">


			<form>

				<h1>College Debt Estimator</h1>
				
				<br />

				<div class="row">      
					<div class="col-lg-6">
						<div class="form-group">
						
							<h2>Loans</h2>

							<table class="table" id="loan_table">
								<tr>
									<th>Year</th>
									<th>Amount</th>
									<th>Int Rate<a target="_blank" href="https://studentaid.ed.gov/sa/types/loans/interest-rates"><sup>1</sup></a></th>
									<th>YE Bal</th>
								</tr>
								<tr>
									<td><input type="text" class="form-control" placeholder="2020" id="loan_year01" onblur="regexYear();"/></td>
									<td><input type="text" class="form-control" placeholder="$10,000.00" id="loan_amt01" onblur="regexAmount(id);"/></td>
									<td><input type="text" class="form-control" placeholder="0.0373" id="loan_int01" onblur = "regexInterest();"/></td>
									<td><span id="loan_bal01">$10,453.00</span></td>
								</tr>
								<tr>
									<td><input type="text" class="form-control" placeholder="2021" id="loan_year02" /></td>
									<td><input type="text" class="form-control" placeholder="$10,000.00" id="loan_amt02" onblur="regexAmount(id);"/></td>
									<td><input type="text" class="form-control" placeholder="0.0373" id="loan_int02" /></td>
									<td><span id="loan_bal02">$21,379.52</span></td>
								</tr>
								<tr>
									<td><input type="text" class="form-control" placeholder="2022" id="loan_year03" /></td>
									<td><input type="text" class="form-control" placeholder="$10,000.00" id="loan_amt03"onblur="regexAmount(id);" /></td>
									<td><input type="text" class="form-control" placeholder="0.0373" id="loan_int03" /></td>
									<td><span id="loan_bal03">$32,801.01</span></td>
								</tr>
								<tr>
									<td><input type="text" class="form-control" placeholder="2023" id="loan_year04" /></td>
									<td><input type="text" class="form-control" placeholder="$10,000.00" id="loan_amt04"onblur="regexAmount(id);" /></td>
									<td><input type="text" class="form-control" placeholder="0.0373" id="loan_int04" /></td>
									<td><span id="loan_bal04">$44,739.90</span></td>
								</tr>
								<tr>
									<td><input type="text" class="form-control" placeholder="2024" id="loan_year05" /></td>
									<td><input type="text" class="form-control" placeholder="$10,000.00" id="loan_amt05" onblur="regexAmount(id);"/></td>
									<td><input type="text" class="form-control" placeholder="0.0373" id="loan_int05" /></td>
									<td><span id="loan_bal05">$57,219.62</span></td>
								</tr>
								<tr>
									<td colspan="3">Interest accrued while attending college:</td>
									<td><span id="loan_int_accrued">$7,219.62</span></td>
								</tr>
							</table>
							<br />
							<button type="button" class="btn btn-primary" ng-click="populate();">Re-calculate</button> 
							<!-- Regie09 Code -->
							<button type="button" class="btn btn-secondary" onclick="saveForm();">Save</button>
							<button type="button" class="btn btn-secondary" onclick="loadForm();">Load</button>
							<!-- Regie09 Code -->
						</div>
					</div>

					<div class="col-lg-6">
						<div class="form-group">
						
							<h2>Payments</h2>
							
							<table class="table">
								<tr>
									<th>Year</th>
									<th>Payments</th>
									<th>Int Amt</th>
									<th>YE Bal</th>
								</tr>
								<tr>
									<td><span id="pmt_year01">2025</span></td>
									<td><span id="pmt_amt01">$6,500.00</span></td>
									<td><span id="pmt_int01">$2,297.60</span></td>
									<td><span id="pmt_bal01">$53,017.22</span></td>
								</tr>
								<!-- angular table -->
								<!-- Regie09 Code -->
								<tr ng-repeat="x in payments">
									<td>{{ x.year }}</td>
									<td>{{ x.payment }}</td>
									<td>{{ x.amt }}</td>
									<td>{{ x.ye }}</td>
								</tr>
								<!-- Regie09 Code -->
							</table>
						</div>
					</div>

				</div>

			</form>

		</div>
	    <!--- jquery 3.4.1 -->
		<script
  		src="https://code.jquery.com/jquery-3.4.1.min.js"
  		integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  		crossorigin="anonymous"></script>	
		<!--- custom -->
		  <script src="collegeDebt.js"></script>
		<!-- main program -->  
		<script loadDoc() ></script>
		<p id="msg"></p>
	</body>
</html>
